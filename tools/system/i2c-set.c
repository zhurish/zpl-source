/*
 * i2c-set.c
 *
 *  Created on: 2019年7月16日
 *      Author: DELL
 */

#include "zebra.h"
#include "log.h"
#include "memory.h"
#include "str.h"
#include "getopt.h"
#include "os_util.h"


static const struct codec_reg
{
	unsigned char reg;
	unsigned short val;
}old_codec_list[] = {
		{ 0x00, 0x0000 },
		{ 0x02, 0x8888 },
		{ 0x03, 0x0808 },
		{ 0x0a, 0x4021 },
		{ 0x0b, 0x28a7 },
		{ 0x0c, 0x0000 },
		{ 0x0e, 0x0000 },
		{ 0x0f, 0x0808 },
		{ 0x19, 0xafaf },
		{ 0x1a, 0xafaf },
		{ 0x1b, 0x0033 },
		{ 0x1c, 0x6464 },
		{ 0x1d, 0x2f2f },
		{ 0x1e, 0x0000 },
		{ 0x1f, 0x2f2f },
		{ 0x20, 0x0000 },
		{ 0x26, 0x7860 },
		{ 0x27, 0x3820 },
		{ 0x28, 0x7871 },
		{ 0x29, 0x8080 },
		{ 0x2a, 0x1654 },
		{ 0x2b, 0x5454 },
		{ 0x2c, 0xaaa0 },
		{ 0x2d, 0xc000 },
		{ 0x2e, 0x2f2f },
		{ 0x2f, 0x1002 },
		{ 0x30, 0x0000 },
		{ 0x31, 0x5a02 },
		{ 0x32, 0x3600 },
		{ 0x33, 0x0000 },
		{ 0x34, 0x0000 },
		{ 0x35, 0x0000 },
		{ 0x36, 0x0000 },
		{ 0x37, 0x0000 },
		{ 0x38, 0x0000 },
		{ 0x3b, 0x0000 },
		{ 0x3c, 0x007b },
		{ 0x3d, 0x0000 },
		{ 0x3e, 0x007b },
		{ 0x45, 0xa00a },
		{ 0x4c, 0x5380 },
		{ 0x4f, 0x0072 },
		{ 0x52, 0x00d2 },
		{ 0x53, 0xc000 },
		{ 0x61, 0x9806 },
		{ 0x62, 0x9841 },
		{ 0x63, 0xf83b },
		{ 0x64, 0x4624 },
		{ 0x65, 0xcc01 },
		{ 0x66, 0x0000 },
		{ 0x6a, 0x0077 },
		{ 0x6c, 0x1f00 },
		{ 0x6d, 0x0000 },
		{ 0x6f, 0x8000 },
		{ 0x70, 0x0000 },
		{ 0x71, 0x8000 },
		{ 0x72, 0x8000 },
		{ 0x73, 0x1770 },
		{ 0x74, 0x0e00 },
		{ 0x75, 0x1505 },
		{ 0x76, 0x0015 },
		{ 0x77, 0x0c00 },
		{ 0x78, 0x4000 },
		{ 0x79, 0x0123 },
		{ 0x7f, 0x1100 },
		{ 0x80, 0x4000 },
		{ 0x81, 0x4096 },
		{ 0x82, 0xe000 },
		{ 0x83, 0x0800 },
		{ 0x84, 0x0000 },
		{ 0x85, 0x0000 },
		{ 0x86, 0x0004 },
		{ 0x87, 0x0000 },
		{ 0x89, 0x0000 },
		{ 0x8a, 0x0000 },
		{ 0x8b, 0x0000 },
		{ 0x8c, 0x0003 },
		{ 0x8d, 0x0000 },
		{ 0x8e, 0x8019 },
		{ 0x8f, 0x3100 },
		{ 0x90, 0x0646 },
		{ 0x91, 0x0e06 },
		{ 0x93, 0x0000 },
		{ 0x94, 0x1271 },
		{ 0x95, 0x1000 },
		{ 0x97, 0x0000 },
		{ 0x98, 0x0000 },
		{ 0x99, 0x0000 },
		{ 0x9a, 0x2184 },
		{ 0x9b, 0x010a },
		{ 0x9c, 0x0aea },
		{ 0x9d, 0x000c },
		{ 0x9e, 0x0400 },
		{ 0xae, 0x7000 },
		{ 0xaf, 0x0000 },
		{ 0xb0, 0x7000 },
		{ 0xb1, 0x0000 },
		{ 0xb2, 0x0000 },
		{ 0xb3, 0x001f },
		{ 0xb4, 0x220c },
		{ 0xb5, 0x1f00 },
		{ 0xb6, 0x0000 },
		{ 0xb7, 0x0000 },
		{ 0xbb, 0x0000 },
		{ 0xbc, 0x0000 },
		{ 0xbd, 0x0200 },
		{ 0xbe, 0x0004 },
		{ 0xbf, 0xdee0 },
		{ 0xc0, 0x0100 },
		{ 0xc1, 0x0004 },
		{ 0xc2, 0x0980 },
		{ 0xcd, 0x0010 },
		{ 0xce, 0x0000 },
		{ 0xcf, 0x1813 },
		{ 0xd0, 0x0690 },
		{ 0xd1, 0x1c17 },
		{ 0xd3, 0xa220 },
		{ 0xd4, 0x0000 },
		{ 0xd6, 0x0400 },
		{ 0xd9, 0x0809 },
		{ 0xda, 0x0000 },
		{ 0xdb, 0x0000 },
		{ 0xdc, 0x0010 },
		{ 0xdd, 0x0014 },
		{ 0xe0, 0x3bcb },
		{ 0xe1, 0x22fb },
		{ 0xe2, 0x0000 },
		{ 0xe3, 0x0000 },
		{ 0xe4, 0x0000 },
		{ 0xe6, 0x8000 },
		{ 0xe7, 0x0000 },
		{ 0xec, 0xa200 },
		{ 0xed, 0x0000 },
		{ 0xee, 0xa200 },
		{ 0xef, 0x0000 },
		{ 0xf8, 0x0088 },
		{ 0xf9, 0x0000 },
		{ 0xfa, 0xc019 },
		{ 0xfb, 0x043b },
		{ 0xfc, 0x0104 },
		{ 0xfd, 0x0007 },
		{ 0xfe, 0x10ec },
		{ 0xff, 0x6271 },
};


int main(int argc, char *argv[])
{
	int i = 0;
	//i2cset -f -y 0 0x1c 0xd3 0xa221 w
	char cmd[512];
	for(i = 0; i < sizeof(old_codec_list)/sizeof(old_codec_list[0]); i++)
	{
		memset(cmd, 0, sizeof(cmd));
		sprintf(cmd, "i2cset -f -y 0 0x1c 0x%02x 0x%04x w", old_codec_list[i].reg, old_codec_list[i].val);
		super_system(cmd);
	}
	for(i = 0; i < sizeof(old_codec_list)/sizeof(old_codec_list[0]); i++)
	{
		memset(cmd, 0, sizeof(cmd));
		sprintf(cmd, "i2cset -f -y 0 0x1c 0x%02x 0x%04x w", old_codec_list[i].reg, old_codec_list[i].val);
		super_system(cmd);
	}
	return 0;
}
